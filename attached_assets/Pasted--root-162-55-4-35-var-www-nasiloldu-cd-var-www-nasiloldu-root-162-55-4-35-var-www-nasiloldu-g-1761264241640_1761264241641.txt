
root@162-55-4-35:/var/www/nasiloldu# cd /var/www/nasiloldu
root@162-55-4-35:/var/www/nasiloldu# git pull origin main
From https://github.com/j1vetr/nasiloldu
 * branch            main       -> FETCH_HEAD
Already up to date.
root@162-55-4-35:/var/www/nasiloldu# echo "production=false" > .npmrc
root@162-55-4-35:/var/www/nasiloldu# npm install
npm warn config production Use `--omit=dev` instead.

up to date, audited 490 packages in 1s

64 packages are looking for funding
  run `npm fund` for details

8 vulnerabilities (3 low, 5 moderate)

To address issues that do not require attention, run:
  npm audit fix

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
root@162-55-4-35:/var/www/nasiloldu# npm run build
npm warn config production Use `--omit=dev` instead.

> rest-express@1.0.0 build
> vite build && esbuild server/index.ts --platform=node --packages=external --bundle --format=esm --outdir=dist

vite v5.4.20 building for production...
transforming (3) src/main.tsxBrowserslist: browsers data (caniuse-lite) is 12 months old. Please run:
  npx update-browserslist-db@latest
  Why you should do it regularly: https://github.com/browserslist/update-db#readme

A PostCSS plugin did not pass the `from` option to `postcss.parse`. This may cause imported assets to be incorrectly transformed. If you've recently added a PostCSS plugin that raised this warning, please contact the package author to fix the issue.
✓ 1732 modules transformed.
../dist/public/index.html                                    6.46 kB │ gzip:   2.05 kB
../dist/public/assets/logo nsl_1761194999380-MDgoilZ4.png   23.38 kB
../dist/public/assets/index-BVbkO-HG.css                   110.52 kB │ gzip:  16.44 kB
../dist/public/assets/index-DND88cCD.js                    618.01 kB │ gzip: 169.55 kB

(!) Some chunks are larger than 500 kB after minification. Consider:
- Using dynamic import() to code-split the application
- Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
- Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
✓ built in 4.88s

  dist/index.js  62.3kb

⚡ Done in 10ms
root@162-55-4-35:/var/www/nasiloldu# ls -lh dist/
total 68K
-rw-r--r-- 1 root root  63K Oct 24 03:02 index.js
drwxr-xr-x 3 root root 4.0K Oct 24 03:02 public
root@162-55-4-35:/var/www/nasiloldu# pm2 restart nasiloldu
Use --update-env to update environment variables
[PM2] Applying action restartProcessId on app [nasiloldu](ids: [ 19 ])
[PM2] [nasiloldu](19) ✓
┌────┬──────────────────────────┬─────────────┬─────────┬─────────┬──────────┬────────┬──────┬───────────┬──────────┬──────────┬──────────┬──────────┐
│ id │ name                     │ namespace   │ version │ mode    │ pid      │ uptime │ ↺    │ status    │ cpu      │ mem      │ user     │ watching │
├────┼──────────────────────────┼─────────────┼─────────┼─────────┼──────────┼────────┼──────┼───────────┼──────────┼──────────┼──────────┼──────────┤
│ 9  │ maison-nomade-contact    │ default     │ N/A     │ fork    │ 664804   │ 5D     │ 0    │ online    │ 0%       │ 59.3mb   │ root     │ disabled │
│ 19 │ nasiloldu                │ default     │ N/A     │ fork    │ 2918520  │ 0s     │ 5    │ online    │ 0%       │ 20.3mb   │ root     │ disabled │
│ 12 │ postakod                 │ default     │ 1.0.0   │ fork    │ 2665669  │ 4D     │ 6    │ online    │ 0%       │ 117.6mb  │ root     │ disabled │
│ 0  │ watermarktoo-backend     │ default     │ 1.0.0   │ cluster │ 958      │ 5D     │ 0    │ online    │ 0%       │ 97.4mb   │ root     │ disabled │
│ 1  │ yosun-restaurant         │ default     │ 1.0.0   │ fork    │ 2918489  │ 0s     │ 485… │ online    │ 0%       │ 54.3mb   │ root     │ disabled │
└────┴──────────────────────────┴─────────────┴─────────┴─────────┴──────────┴────────┴──────┴───────────┴──────────┴──────────┴──────────┴──────────┘
root@162-55-4-35:/var/www/nasiloldu# pm2 logs nasiloldu --lines 20
[TAILING] Tailing last 20 lines for [nasiloldu] process (change the value with --lines option)
/root/.pm2/logs/nasiloldu-error-19.log last 20 lines:
19|nasilol |       subjectaltname: 'DNS:imagetoopdf.com, DNS:www.imagetoopdf.com',
19|nasilol |       infoAccess: [Object: null prototype],
19|nasilol |       ca: false,
19|nasilol |       modulus: '9CD45B80E8F5EAC4C083A43B5A502A70EC93490EC159792ED3134848EDB08699805E4CC496E03E3A4D4561BB44D4D3B609693A2CDEE5660D5707BC41A6F9444036507F22D7A055E5145AA15E80CE1870CBD04E49A3EBB3125773323B53FAC5142C2B5AB581A7535D10AC42D7E9CDCD2787CA7A340B5BAE979D9C75C70C6A3DD2C03FC213D0E7DF8340122293F38629C83F30F493AD490222FD139BCDCCC6ACD795E20EBB87D6277E4CC0BB3B5460627E76B68655C418581061D640459DC40A0434DD1F8770A4E8E5C9F568B2E571DC5F9E3471C1079F5EC924AFEA26D630DAD5BFE7773AACCCA3E4A227465B3EC50B4885D83CE8F985C0E0633B32A9992FA67B',
19|nasilol |       bits: 2048,
19|nasilol |       exponent: '0x10001',
19|nasilol |       pubkey: <Buffer 30 82 01 22 30 0d 06 09 2a 86 48 86 f7 0d 01 01 01 05 00 03 82 01 0f 00 30 82 01 0a 02 82 01 01 00 9c d4 5b 80 e8 f5 ea c4 c0 83 a4 3b 5a 50 2a 70 ec ... 244 more bytes>,
19|nasilol |       valid_from: 'Oct 10 09:53:17 2025 GMT',
19|nasilol |       valid_to: 'Jan  8 09:53:16 2026 GMT',
19|nasilol |       fingerprint: '44:80:EA:89:0C:17:3B:4E:F4:28:E1:AC:00:FA:93:6F:2D:5B:14:47',
19|nasilol |       fingerprint256: '32:08:A6:7C:EE:5A:CB:AF:30:F1:30:D5:85:1D:09:D2:71:69:58:E4:69:1B:10:92:1F:24:62:BC:F4:33:C2:06',
19|nasilol |       fingerprint512: '2A:1E:0B:CB:7B:52:06:52:16:B1:92:6B:1C:A9:26:B2:E2:B3:56:23:1E:4D:D8:25:35:17:D7:73:3D:1B:95:FD:95:A1:4C:0B:11:7C:C8:B4:9E:91:A5:6C:16:DB:8F:0F:18:8F:8D:10:C4:4E:24:0D:9C:64:00:AF:18:16:E1:94',
19|nasilol |       ext_key_usage: [Array],
19|nasilol |       serialNumber: '059F9838163E6616D51E7C559B8E14917C05',
19|nasilol |       raw: <Buffer 30 82 05 0f 30 82 03 f7 a0 03 02 01 02 02 12 05 9f 98 38 16 3e 66 16 d5 1e 7c 55 9b 8e 14 91 7c 05 30 0d 06 09 2a 86 48 86 f7 0d 01 01 0b 05 00 30 33 ... 1249 more bytes>,
19|nasilol |       issuerCertificate: [Object]
19|nasilol |     }
19|nasilol |   },
19|nasilol |   [Symbol(kMessage)]: "Hostname/IP does not match certificate's altnames: Host: localhost. is not in the cert's altnames: DNS:imagetoopdf.com, DNS:www.imagetoopdf.com"
19|nasilol | }

/root/.pm2/logs/nasiloldu-out-19.log last 20 lines:
19|nasilol | 2:46:24 AM [express] GET /api/categories 200 in 23ms :: [{"id":1,"slug":"hastalik","name":"Hastalık"…
19|nasilol | 2:46:24 AM [express] GET /api/stats 200 in 41ms :: {"totalPersons":236,"totalCategories":4,"totalCou…
19|nasilol | 2:46:24 AM [express] GET /api/persons/recent 200 in 38ms :: [{"id":238,"qid":"Q34211","slug":"yasser…
19|nasilol | 2:46:24 AM [express] GET /api/persons/popular 200 in 37ms :: [{"id":233,"qid":"Q352","slug":"adolf-h…
19|nasilol | 2:46:33 AM [express] GET /api/countries 200 in 5ms :: [{"id":5,"slug":"almanya","name":"Almanya","qi…
19|nasilol | 2:46:54 AM [express] GET /api/persons/adolf-hitler 200 in 27ms :: {"id":233,"qid":"Q352","slug":"ado…
19|nasilol | 2:46:54 AM [express] GET /api/persons/adolf-hitler/related 200 in 32ms :: [{"id":40,"qid":"Q542578",…
19|nasilol | 2:52:49 AM [express] GET /api/persons/turhan-feyzioglu 200 in 15ms :: {"id":124,"qid":"Q2458942","sl…
19|nasilol | 2:52:50 AM [express] GET /api/persons/turhan-feyzioglu/related 200 in 17ms :: [{"id":8,"qid":"Q5152"…
19|nasilol | 2:59:40 AM [express] serving on port 5549
19|nasilol | ✓ PostgreSQL unaccent extension enabled
19|nasilol | 3:00:31 AM [express] GET /api/stats 200 in 69ms :: {"totalPersons":236,"totalCategories":4,"totalCou…
19|nasilol | 3:00:31 AM [express] GET /api/persons/today 200 in 64ms :: []
19|nasilol | 3:00:31 AM [express] GET /api/categories 200 in 46ms :: [{"id":1,"slug":"hastalik","name":"Hastalık"…
19|nasilol | 3:00:31 AM [express] GET /api/persons/popular 200 in 55ms :: [{"id":233,"qid":"Q352","slug":"adolf-h…
19|nasilol | 3:00:31 AM [express] GET /api/persons/recent 200 in 65ms :: [{"id":238,"qid":"Q34211","slug":"yasser…
19|nasilol | 3:00:39 AM [express] GET /api/persons/adolf-hitler 200 in 13ms :: {"id":233,"qid":"Q352","slug":"ado…
19|nasilol | 3:00:39 AM [express] GET /api/persons/adolf-hitler/related 200 in 13ms :: [{"id":40,"qid":"Q542578",…
19|nasilol | 3:02:26 AM [express] serving on port 5549
19|nasilol | ✓ PostgreSQL unaccent extension enabled

^C
root@162-55-4-35:/var/www/nasiloldu# curl -H "User-Agent: Mozilla/5.0 (compatible; Googlebot/2.1; +http://www.google.com/bot.html)" \
  "https://nasiloldu.net/nasil-oldu/adolf-hitler" | grep -A 3 "<title>"
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100  9052  100  9052    0     0   134k       <title>Adolf Hitler Nasıl Öldü? | nasiloldu.net</title>
   0

-    <meta name="keywords" content="ünlüler nasıl öldü, ölüm nedenleri, ünlü ölümleri, wikidata, wikipedia, ünlü kişiler, ölüm tarihleri, ansiklopedi, tarihte bugün, ölüm yıldönümü" />
-:--:-- --:--:-- --:--:--  135k
root@162-55-4-35:/var/www/nasiloldu# cat dist/index.js | grep "seoMiddleware"
async function seoMiddleware(req, res, next) {
  app2.use(seoMiddleware);
root@162-55-4-35:/var/www/nasiloldu# ls dist/public/assets/
 index-BVbkO-HG.css   index-DND88cCD.js  'logo nsl_1761194999380-MDgoilZ4.png'
root@162-55-4-35:/var/www/nasiloldu#
